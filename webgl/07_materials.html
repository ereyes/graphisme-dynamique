<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Untitled Document</title>

<script src="Three.js"></script>

</head>

<body>

<script>

	var container, camera, scene, renderer;

	setup();
	draw();
	
	function setup() {
		
		container = document.createElement( 'div' );
		document.body.appendChild( container );
		
		scene = new THREE.Scene();
		
		camera = new THREE.PerspectiveCamera( 50, window.innerWidth / window.innerHeight, 1, 2000 );
		camera.position.y = 500;
		camera.position.x = 500;
		scene.add( camera );
		
		var light, object, materials;
		
		scene.add( new THREE.AmbientLight( 0x404040 ) );
		
		light = new THREE.DirectionalLight( 0xffffff );
		light.position.set( 10, 10, 1 );
		scene.add( light );

		materials = [
			new THREE.MeshLambertMaterial( { ambient: 0xbbbbbb, map: THREE.ImageUtils.loadTexture( 'nirvana.png' ) } ),
			new THREE.MeshBasicMaterial( { color: 0xffffff, wireframe: true, transparent: true, opacity: 0.7 } )
		];
		
		
		// on utilise THREE.SceneUtils.createMultiMaterialObject pour afficher deux textures sur l'objet
		
		object = THREE.SceneUtils.createMultiMaterialObject( new THREE.CubeGeometry( 100, 100, 100, 4, 4, 4 ), materials );
		object.position.set( -50, 0, 400 );
		scene.add( object );

		object = THREE.SceneUtils.createMultiMaterialObject( new THREE.SphereGeometry( 100, 20, 15 ), materials );
		object.position.set( 0, 0, 0 );
		scene.add( object );


		renderer = new THREE.WebGLRenderer( { antialias: true } );
		renderer.setSize( window.innerWidth, window.innerHeight );

		container.appendChild( renderer.domElement );		
		
	}
	
	
	function draw() {
		requestAnimationFrame( draw );
		render();	
	}

	
	function render() {
		
		for ( var i = 0, l = scene.children.length; i < l; i ++ ) {

			var object = scene.children[ i ];

			object.rotation.x += 0.01;
			object.rotation.y += 0.005;

		}
		
		camera.lookAt( scene.position );
		renderer.render( scene, camera );
	
	}


</script>

</body>
</html>
