<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Flickr tags</title>

<style>
	body { background-color:gray; margin:100px; }
	span { padding:5px; margin:5px; float:left; border:solid 5px gray; }
	.tag { padding:2em; color:white; font-family:arial; }
 </style>

<script src="jquery-2.0.3.min.js"></script>

<script>

	$(document).ready(function() {
        
		$('button').click(function(){
		
		var jsonURL = "http://api.flickr.com/services/feeds/photos_public.gne?tags=";
		var maTag = $('#monTexte').val();
		var formatJSON = '&tagmode=ANY&format=json&jsoncallback=?';
		var adresseComplete = jsonURL + maTag + formatJSON;
		
			$.getJSON(adresseComplete, function(data) {
				
				var couleurs = ['gold', 'orange', 'brown', 'purple', 'darkred', 'darkblue'];
				var maCouleur = couleurs[Math.floor(Math.random()*couleurs.length)];

				$('#photos').prepend('<span class="tag" style="background-color:' + maCouleur + ';">' + maTag + '</span>');
			
				$.each(data.items, function(i, photo) {					
					
					
					var photoHTML = '<span style="border-color:' + maCouleur + '">';
					photoHTML += '<a href="' + photo.link + '">';
					photoHTML += '<img src="' + photo.media.m.replace('_m', '_s') + '"></a></span>';
					$('h1').text(data.title);
					$('#photos').prepend(photoHTML);
				
				});
			
			});
		
		});
    });

</script>

</head>

<body>
    <input id="monTexte"><button>Donne-moi des photos tagg√©es</button> <br><br>
    <div id="photos"></div>
</body>
</html>
